# 2주차

## 웹 페이지에서 자바 스크립트의 역할이란 ?

- **사용자의 입력 및 계산** : HTML 폼은 입력 창만 제공할 뿐 입력을 받고 계산하는 기능 X. 키나 마우스의 입력과 계산은 오직 자바스크립트로만 처리 가능.
- **웹 페이지 내용 및 모양의 동적 제어** : JS코드로 HTML 태그의 속성이나 콘텐츠, CSS 프로터피의 값을 변경하여 웹 페이지에 동적인 변화를 일으키는데 활용. (ex. 배너)
- **브라우저 제어** : 브라우저 크기나 모양 변경, 새 탭 열기, 브라우저의 히스토리 제어 등 브라우저 작동을 제어하는데 활용.
- **웹 서버와의 통신** : 웹 페이지가 웹 서버와 데이터를 주고받을 때 활용한다.
- **웹 애플리케이션 작성** : HTML 캔버스, 로컬 및 세션 스토리지(?) , 위치 정보 등 JS 스크립트 언어로 활용할 수 있는 많은 기능(API)을 제공하므로, 웹 브라우저에서 실행되는 다양한 웹 애플리케이션을 개발할 수 있다.

## 변수

- var : 변수 재정의 등의 문제점으로 인해 잘 사용하지 않는다.
- let : 개발자들의 코딩 오류를 줄이기 위해 도입
    - var는 동일한 변수를 재선언 할 수 있지만, let으로는 동일한 변수를 재선언 할 수 없다. (실수를 방지할 수 있다. )
    
    ```jsx
    var x = 1;
    var x = 2; // 정상. 기존 변수 x 제거.
    					// 새로운 변수 x 생성
    ```
    
    ```jsx
    let x = 1;
    ~~let x = 2;~~ // 오류. 변수 x에 대한 
    					// 재선언 불가
    ```
    
    - let은 변수의 사용 범위를 블록 내로 제한한다.
    
    ```jsx
    if (a==b) {
    			let x = 10;
    }
    ~~x ++;~~ //오류. {}로 묶은 영역에서만 사용 가능. (ex. if문, while문 등등)
    ```
    
    - 추가적으로 let 키워드 없이 변수 선언하는 것은 지양하는 것이 좋다. 새 변수를 선언하는 것인지 기존 변수에 값을 바꾸는 것인지 불명료하여 프로그램의 실행 결과가 틀려지는 실수가 생길 수 있기 때문이다.
- const : 상수를 표현하는 방법 (변하지 않는 값이다. )
    - const MIN = 1; 과 같이 선언된 후에는 값을 바꿀수 없다.
    
    ```jsx
    const MAX = 10;
    ~~MAX = 20;~~ // 오류이다. 상수는 값을 바꿀 수 없다. 
    ```
    
    - 이미 선언된 상수를 재선언 할 수 없다.
    - const로 선언된 상수는 let과 마찬가지로 선언된 블록 범위 내에서만 사용된다.

## 유효범위 (변수의 사용 범위와 수명)

- 전역 변수 : 함수 밖에서 선언되거나 var/let 키워드 없이 아무곳에서나 선언된 변수. 프로그램이  실행을 시작할 때 생겨나서 프로그램 종료 시까지 생존. 프로그램 전역에 걸쳐 사용이 가능하다.
- 지역 변수 : 함수 내에서 var/ let 키워드로 선언된 변수. 함수가 시작되면 생겨나서 함수가 종료되면 사라진다. 선언된 함수 내에서만 사용 가능
- 블록 변수 : let 키워드로 if, while, for 등 블록 내에 선언된 변수. 블록 내에서만 사용. 블록이 끝나면 사라지므로 블록 바깥에서는 접근이 불가능하다.
    
    ```jsx
    let x ; // 전역변수. 
    function f () {
        let y;     // 함수 f() 내에서만 사용되는 지역 변수 y 선언. 
        x = 10;    
        y = 10;
        z = 30;    // 새로운 전역 변수 (키워드 없이 아무곳에서나 선언된 변수)
        if (y==20) {
            let b = 40;  // if 블록 내에서만 사용되는 블록 변수 b.
        }
        // 이곳에서는 블록 변수 b에 접근할 수 없음.
        // 이곳에서는 변수 x,y,z에 모두 접근 가능.
    }
    // 여기서는 변수 x와 z만 접근 가능. 지역 변수 y와 블록 변수 b는 접근 불가.
    ```
    
- this로 전역 변수 접근 : 지역 변수와 전역 변수의 이름이 같을 때, this를 이용하면 함수 내에서도 전역 변수를 접근할 수 있다.
    - 주의해야 할 점은, let으로 선언된 전역 변수는 this로 접근할 수 없다는 것이다.
    
    ```jsx
    var x = 10 ;  // 전역 변수 x 선언
    function f () {
        var x ; //지역 변수 x 선언
        x = 1;  //지역 변수 x에 1 저장
        this.x = 100;  //전역변수 x에 100 저장
    }
    ```
    

## 브라우저가 제공하는 자바스크립트 객체

- 모든 객체는 new 키워드를 사용하여 객체를 생성한다.
- Array (배열) : 여러 개의 원소들을 연속적으로 저장하고 전체를 하나의 단위로 다루는 데이터 구조.
    - 베열을 만드는 법
        
        ```jsx
        let week = ["월","화","수","목","금","토","일"]  // []활용
        let weeks = new Array(7); // Array 객체 활용
        ```
        
    - 배열에는 여러 타입의 데이터가 섞여 저장될 수 있다.
        
        ```jsx
        let every = new Array(3);
        every[0] = 0;
        every[1] = 5.5;
        every[2] = "김세빈";
        ```
        
    - unshift(x) : x를 배열 가장 처음 시작 지점에 변수를 추가할 수 있다.
    - push(x) : x를 배열의 가장 마지막 지점에 변수를 추가할 수 있다.
    - concat([’x’,’’y]) : 두개 이상의 원소를 배열에 추가할 때 사용한다.
- Date : 시간 정보를 담는 객체
    - Date 객체에서 월 값이 0부터 시작하며 0은 1월, 11은 12월을 의미한다.
        
        ```jsx
        let now = new Date() ;  // 현재 2022년 07월 14일 11시 00분이라면
        let Month = now.getMonth(); // Month = 6이 된다.
        ```
        
    - let now = new Date();는 객체가 생성되는 시점의 시간 정보를 가진다. 하지만, 시간이 흐른다고 해서 now가 현재 시간으로 자동으로 계속 업데이트 되는 것은 아니다.
- String : 문자열이다. 문자열을 객체로 만들어 문자열을 다루기 쉽도록 해주며 문자열을 다루는 많은 메소드를 제공한다.
    - 문자열의 길이는 length로 나타낸다.
    - 배열처럼 [ ] 연산자를 사용하여 각 문자에 접근할 수 있다.
    - indexOf() : 문자열 내에서 시작 인덱스를 리턴 받을 수 있다.
    - charAt()을 : 문자열 내에서 특정 위치에 있는 문자를 알아낼 수 있다.
- Math : 수학 계산을 위한 프로퍼티와 메소드를 제공한다.
    - Math.random() :  난수를 만들 수 있는데, 1보다 작은 0~1 사이의 실수를 리턴한다.
    - Math.floor(x) : x보다 작거나 같은 수 중 가장 큰 정수를 리턴한다.

## 자바 스크립트 다이얼로그 : 사용자 입력 및 메시지 출력

- 프롬프트 다이얼로그 , prompt (”메시지” , ”디폴트 입력값”)  : 사용자로 부터 문자열을 입력받아 리턴한다.
    - 메시지는 “이름을 입력하세요 “등 사용자에게 입력받을 질문의 내용을 뜻한다.
    - 디폴트 입력값에 아무 값도 입력되지 않았으면 “”를, 취소버튼이나 강제로 다이얼로그를 닫은 경우 null을 리턴한다.
    - 디폴트 입력값은 생략이 가능하다.
- 확인 다이얼로그, confirm (”메시지”) : “메시지”와 확인/취소 버튼을 가진 다이얼로그를 출력한다.
    - 사용자가 확인 버튼을 누르면 true를, 취소 버튼이나 강제로 다이얼로그를 닫으면 false를 리턴한다.
- 경고 다이얼로그, alert (”메시지”) : 단순히 메시지를 전달한다.

## 주석

- 한 줄 주석 : //
- 여러 줄 주석 : /*  —- */
- <!— 주석문 —> 이런 형태도 주석이 가능하다.

## 자바 스크립트 코드의 위치

- HTML 태그의 이벤트 리스너 속성에 작성
    - 아래 예시는 <img> 태그의 onclick 이벤트 리스너 속성에 자바스크립트 코드를 작성한 사례이다.
    - 자바스크립트 코드가 짧은 경우에 적합하다.
    
    ```jsx
     <img src="apple.png" alt="img" onclick="this.src='banana.png'"> // 밑줄 부분이 자바 스크립크 코드이다. 
    ```
    
- <script></script> 내에 작성
    - <script></script>는 <head></head> 나 <body></body> 내 어디든 들어갈 수 있다.
    - 웹 페이지 내에서 여러번 작성이 가능하다.
- 자바스크립트 파일에 작성
    - 자바 스크립트 코드를 확장자가 .js인 별도로 파일로 저장하고 <script> 태그의 src 속성으로 불러 사용할 수 있다.
    - 자바스크립트 코드를 중복 작성하는 불편함을 해소하여 편리하게 사용이 가능하다.
    - 자바 스크립트 파일에는 <script> 태그를 저장해서는 안된다.
    
    ```jsx
    lib.js
    function over(obj) {
    obj.src = "banana.png";}
    ```
    
    ```jsx
    <script src = "lib.js">
    </script>
    <body>
    <img src="apple.png" onmouseover="over(this)">
    </body>
    ```
    
- URL 부분에 작성
    - <a>태그의 href 속성에서도 자바스크립트 코드를 작성할 수 있다.
    
    ```jsx
    <a href="javascript:alert("확인 하셨나요?")">확인</a>
    ```
    

## 정규 표현식(Regular Expression)

- 정의 : 정규 표현식이란, 문자열에서 특정한 문자를 찾아내는 도구이다.
- 정규 표현식의 사용 방법에는 2가지 단계가 있다.
    - 컴파일을 통해 패턴을 찾는 단계
    - 실행을 통해 대상을 찾는 단계
- 사용을 권장하는 이유는,  특정 문자열을 추출하거나 자신이 원하는 정보가 있는지 확인해야 하거나 검색된 정보를 다른 정보로 치환하거나 하는 경우에 개발자의 수고로움을 덜기 위함이다.
    
    ```jsx
    <a href = "http://naver.com">네이버</a>
    <a href = "http://daum.net">다음</a>
    ... //링크들이 몇 백개가 된다면..?
    ```
    
- 패턴을 만드는데는 두 가지 방법이 있다.
    
    ```jsx
    var pattern = /a/;  // 역슬래시를 사용하여 패턴 생성. a는 사용자가 찾고자하는 문자열이다.
    var pattern = new RegExp('a');   // RegExp 객체를 활용한 패턴 생성
    ```
    
- 정규표현식을 활용하여 문자열을 찾는(추출해 내는) 방법. 변수.exec(”문자열”)
    
    ```jsx
    var pattern = /a/;      //사용자는 a가 포함되어 있는 문자열을 찾고자한다. 
    pattern.exec("abcde");  // abced 라는 문자열 안에 pattern 값이 들어 있는지 찾아내는 
    												// 함수이다. 결과적으로 ["a"]를 리턴한다. (배열 형태로 리턴 받는다.)
    												// 찾고자하는 문자열이 없는 경우 null를 리턴한다.
    
    var pattern = /a/;      // 이와 같은 방법으로 사용해도 위의 예시와 같은 값을 리턴받는다.
    var str = "abcdef";
    str.match(pattern);    
    ```
    
    - exec 대신 test를 사용하면, 값이 있을 경우는 true를 없을 경우는 false를 리턴받는다.
    - i 옵션 : 대소문자를 구분하지 않고 문자열을 찾고자 할 때는 i를 사용한다. ( ex. /a/i;)
    - g 옵션 : 검색된 모든 결과 (혹은 하나의 결과)만을 리턴하고 싶을 때 사용한다.  (ex. /a/g;)
- 정규표현식에서 문자열을 치환하는 방법.  변수.replace(수정하고 싶은 문자열 ,새롭게 바뀔 문자열 )
    
    ```jsx
    var pattern = /a/;      
    var str = "abcdef";
    str.raplace(pattern, 'A');  //결과적으로 Abcde가 출력된다.
    ```
    

- 

## this

- this는 객체 자신을 가리키는 자바스크립트 키워드이다.
- 함수와 객체의 관계가 느슨한 자바스크립트에서 this는 함수와 객체를 연결시켜주는 실질적인 연결점의 역할을 한다.
- DOM 객체에서 객체 자신을 가리키는 용도로 사용된다.
    - 아래 예시를 보면, 여기서 사용된 this는 div 객체 자신을 가리키는 것이다.
    
    ```jsx
    <div onclick= "this.style.backgroundColor='orange'">
    ```
    

- 

## 사용자 객체

- 사용자 객체 만드는 방법에는 두가지가 있다.
    
    ```jsx
    var person = {};       // {} 중괄호를 사용하여 만드는 방법
    var person1 = new Object();  // new Object()를 사용하여 만드는 방법
    ```
    
- 위의 예시는 프로퍼티가 없는 빈 객체이다. 프로퍼티(name, birthday)를 추가하는 방법은 아래와 같다. (+ 함수 안에 담겨 있는 변수를 프로퍼티라고 한다.)
    
    ```jsx
    person1.name = "김세빈";
    person1.birthday= "0129";
    ```
    
- 아래의 예시와 같이 프로퍼티에 함수가 담겨 있는 경우를 메소드라고 한다.
    
    ```jsx
    person.introduce = function(){          // 메소드로 사용할 함수 작성
    		return "My name is"+this.name;     // this는 현재 객체를 의미한다. 
    }
    document.write(person1.introduce());    // 함수 호출
    ```
    
    - 만일 this없이 name으로만 쓰게 되면 이것은 전역변수나 지역변수 name에 접근하는 것이다. 그러므로 객체의 멤버 변수인 프로퍼티에 접근할 때는 반드시 this를 사용한다.
- 위의 예시는 객체를 만드는 과정이 분산되어 있다. 아래와 같은 예시도 가능하다.
    
    ```jsx
    var person = {
    		'name' : '김세빈'.
    		'birthday' : 0129,
    		'introduce' : function() {
    					return 'My name is '+ this.name;
    			}
    }
    document.write(person.introduce()); 
    ```
    

## DOM 객체

- HTML 문서의 각 요소를 객체화 한 것을 HTML  DOM(Document Object Model)이라 부른다.
    - 예를 들어, <p> …</p>로 구성된 요소는 p 객체로 <div>..</div> 객체로 생성한다.
- DOM의 목적은 HTML 페이지가 출력된 후, DOM 객체를 통해 HTML 태그가 출력된 모양과 콘텐츠를 제어하기 위해서이다.
- DOM 트리
    - 브라우저가 HTML 페이지를 로드하면서 HTML 태그의 포함관계에 따라 DOM 객체들을 트리구조로 나타내는데 이것을 DOM트리라고 부른다.
    - DOM 트리는 document부터 시작되어 마지막까지를 나타낸다.
    
    ![image.png](2%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%20d8e051a686d5404da166bf7701531872/image.png)
    
- DOM 객체의 구성 요소
    - 프로퍼티 : DOM 객체의 프로퍼티 값으로부터 HTML의 속성을 알아내거나 프로퍼티 값을 바꾸어 HTML 태그에 변화를 줄 수 있다.
    - 메소드 : DOM 객체의 멤버 함수로서 HTML 태그를 제어하는데 활용된다.
    - 컬렉션 : 정보를 집합적으로 표현하는 일종의 배열과 같은 것이다.
    - 이벤트 리스너 : DOM 객체는 HTML 태그에 작성된 이벤트 리스너를 그대로 가진다.
    - style : style 프로퍼티를 통해 HTML 태그에 적용된 CSS3 스타일 시트에 접근할 수 있다.
- DOM 객체를 찾는 방법, document.getElementBy___()
    
    ```jsx
    <p id ="hi">안녕하세요</p>
    
    let h = document.getElemntById("hi");   // id 속성값이 hi인 Dom 객체 hi를 리턴받는다.
    h.style.color = "blue";  // p 객체의 글자 색을 변경하였다. 
    ```
    
- BOM 객체 : 브라우저에 관한 정보를 제공하거나 브라우저의 모양을 제어하도록 제공되는 객체들을 BOM(Brower Object Model)객체라고 부른다.
    - 브라우저 윈도우를 나타내는 window 객체, 웹페이지의 히스토리 정보를 나타내는 history 객체, screen 객체 등이 있다.
    

## document 객체

- document 객체는 dom 트리의 최상위 객체이다. 브라우저는 html 문서를 로드하기 전에 document 객체를 먼저 생성한다.
    - document 객체는 DOM 객체가 아니다. 연결된 css 스타일 시트도 없고 따라서 style 객체도 없다. 아래 예시는 잘못된 코드를 나타낸 것이다.
        
        ```jsx
        document.~~style~~.color = "red";  //오류
        ```
        
- document 객체는 많은 프로퍼티를 통해 html 문서의 전반적인 속성을 나타내고, 여러 메소드를 통해 DOM 객체의 검색, 새로운 DOM 객체 생성 등 HTML 문서의 전반적인 제어를 지원한다.